{% extends "base.html" %}

{% block body %}
{{ super() }}
<div class="listattributes">
    {% include 'header.html' %}
    <form action="/edit_list_attributes" method="post">
        <input type="hidden" value="{{ wordlist_metadata.wordlist_id }}" name="wordlist_id"/>
        <table>
            <tr>
                <td>List Name:</td>
                <td><input type="text" value="{{ wordlist_metadata.name }}" name="name" size="60"></td>
            </tr>
            <tr>
                <td>Source:</td>
                <td><input type="text" value="{{ wordlist_metadata.citation }}" name="citation" size="60"></td>
            </tr>
        </table>
        {% if wordlist_metadata.list_type != 'standard' %}
        <h2>Code</h2>
        Should be a sql statement that selects a single column called 'word_id.'<br>
        <textarea class="sqlcode" name="sqlcode">{{ wordlist_metadata.sqlcode }}</textarea>
        <br>
        {% endif %}
        <div class="tag_editor">
            <h2>Tags</h2>
            <table>
                <tr>
                    <th>Add Tags</th>
                </tr>
                <tr>
                    <td>
                        <input type="text"
                               class="add_tag"
                               placeholder="add tags (comma separated)"
                               name="add_tags">
                    </td>
                </tr>
            </table>
            {% if wordlist_tags['tags']|length > 1 %}
            <table>
                <tr>
                    <th>Edit Tags</th>
                </tr>
                {% for t in wordlist_tags['tags'] %}
                <tr>
                    <td>
                        <input type="text"
                               class="edit_tag"
                               name="{{ 'tag-' + t['tag_id']|string }}"
                               value="{{ t['tag'] }}">
                    </td>
                </tr>
                {% endfor %}
            </table>
            {% endif %}
            <input type="submit" value="Update list details"/>
        </div>
    </form>
</div>
{% endblock %}

